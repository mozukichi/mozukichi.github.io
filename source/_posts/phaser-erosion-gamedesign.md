---
title: Phaserはゲームデザインを侵食しているか？
date: 2015-9-2
---

以下の記事を読みました。

[小さなJavaScriptライブラリをガッチャンコしてゲームエンジンっぽいことをさせるのは可能なのか - ABAの日誌](http://aba.hatenablog.com/entry/2015/08/24/204338)

この記事に書かれている「目的が限定的な小さいライブラリを組み合わせるという考え方でゲームを実装する」という考え方に、共感を得ました。

個人的にも、制約の多いオールインワンなゲームフレームワークを使うよりも、マイクロなライブラリを組み合わせて使うべきではないだろうか、ということを考えています。

この考えはUNIX哲学に通ずるものがあります。

[Web エンジニア 6 年 5 ヶ月やってたどり着いた価値観 - Born Too Late ](http://blog.yuyat.jp/archives/2560)

この記事の「小さくて組み合わせられるものを作る」の節の内容とつながります。

> 小さくて組み合わせられるものを作る
> まぁ UNIX 哲学ですね。
> オブジェクト指向においては単一責任原則というものがあるし、関数型プログラミングは小さな関数を組み合わせて大きな問題を解決するスタイルが一般的。
> モノリシックアーキテクチャに対するマイクロサービスアーキテクチャが持つ価値というのも、レイヤは違えどかなり似ているんだと思う。

## Phaserの制約

現在、HTML5ゲームフレームワークで利用人口が多いものとしてPhaserがあり、自分もこのPhaserを利用したゲーム実装というのを進めているのですが、納得出来ない仕様がちらほら出てきて、フルスクラッチでの実装の誘惑に何度もかられます。

例えば、Phaser.Groupで複数のPhaser.Spriteを束ねることができますが、このPhaser.GroupそのものはPhysics Bodyを持たないので、「複数のSpriteを持った1個のPhysics Body」というものを作ることができません。

内部的な仕様を深く調べれば、もしかしたらバッドノウハウのような形で問題解決することができるかもしれませんが、アーキテクチャとしてPhaserというレイヤーの上に、Phaserの下に位置するレイヤーに触れるようなハックをすることに強い抵抗を覚えます。

## オールインワンなゲームフレームワークはゲームデザインを侵食しているという極論の提案

上記のような、シーングラフと物理演算という異なる関心がどのように結びつくか、というのは、分野としては「ゲームプログラミング」に位置するものという印象が持てますが、ゲームの内容によっては、ゲームの仕様と深く関わる可能性を持っています。

つまり、ゲームフレームワークの制約が、ゲームデザインに影響を与える可能性がある、ということです。

ゲームデザインにゲームフレームワークの制約の影響を与えないためには、小さなライブラリを、ゲームデザインが求める形で組み合わせる必要があります。

つまり「小さなライブラリをどう接続するか」は、ゲームプログラミングではなく、ゲームデザインの領域である、という極論を試したい、という主張です。

## でも時代が求めているのはオールインワンなんでしょ？

小さなライブラリを上手く接続するためには、それなりの知見が求められます。

なので、さくっと思いつきのゲームを作って試したい、という要求には答えにくい方針です。

時代は「サクッと作れるツール」を求めているようで、UnityやPhaserがもてはやされるのも、そういうものが求められているからのようです。（Unityでちょっと凝ったことをしようとすると、低レイヤなAPIを使ってガリガリコーディングする必要があるから、本当に時代の要求に答えるアーキテクチャなのか？という疑問はあるけど）

しかし、ゲームデザインとゲームプログラミングとは、そもそもそういう崇高な作業なのだよ、という主張を自分に言い聞かせることによって、自身のアイデンティティを確立させておくことで、とりあえずこの議題を閉じておきたい。